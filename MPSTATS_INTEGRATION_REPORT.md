# MPSTATS API Integration Report

## –ü—Ä–æ–±–ª–µ–º–∞
–í–µ–±-–¥–∞—à–±–æ—Ä–¥ –ø–æ–∫–∞–∑—ã–≤–∞–ª –Ω—É–ª–∏ –≤ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥–∞–∂–∞—Ö, –≤—ã—Ä—É—á–∫–µ –∏ –ø—Ä–∏–±—ã–ª–∏, –∞ —Ç–∞–∫–∂–µ –≤ –≥—Ä–∞—Ñ–∏–∫–∞—Ö –≤—ã—Ä—É—á–∫–∏ –∏ –∑–∞–∫–∞–∑–æ–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ Wildberries API, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.

## –†–µ—à–µ–Ω–∏–µ
–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ MPSTATS API –≤ –≤–µ–±-–¥–∞—à–±–æ—Ä–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥–∞–∂–∞—Ö –∏ –≤—ã—Ä—É—á–∫–µ, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤ Telegram –±–æ—Ç–µ.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Backend

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_mpstats_product_data()` –≤ `web-dashboard/backend/wb_api.py`
- –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π –∏–∑ MPSTATS API
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞:
  - `/api/wb/get/item/{article}/sales` - –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂
  - `/api/wb/get/items/by/id` - –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–µ
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ä–µ–¥–Ω–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
  - `daily_sales` - –ø—Ä–æ–¥–∞–∂–∏ –≤ –¥–µ–Ω—å
  - `daily_revenue` - –≤—ã—Ä—É—á–∫–∞ –≤ –¥–µ–Ω—å (–ø—Ä–æ–¥–∞–∂–∏ √ó —Ü–µ–Ω–∞)
  - `daily_profit` - –ø—Ä–∏–±—ã–ª—å –≤ –¥–µ–Ω—å (–≤—ã—Ä—É—á–∫–∞ √ó 0.85)

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `format_product_analysis()`
- –°—Ç–∞–ª–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MPSTATS API
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ MPSTATS –≤–º–µ—Å—Ç–æ –∑–∞–≥–ª—É—à–µ–∫
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏
- –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–¥—É–∫—Ç–∞

### 3. –û–±–Ω–æ–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç `/analysis/product` –≤ `main.py`
- –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é `format_product_analysis()`
- –ü–µ—Ä–µ–¥–∞–µ—Ç –∞—Ä—Ç–∏–∫—É–ª –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö MPSTATS

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
```json
{
  "sales": {
    "today": 0,
    "revenue": {
      "daily": 0.0,
      "weekly": 0.0,
      "monthly": 0.0
    },
    "profit": {
      "daily": 0.0,
      "weekly": 0.0,
      "monthly": 0.0
    }
  },
  "chart_data": {
    "revenue": [0, 0, 0, 0, 0],
    "orders": [0, 0, 0, 0, 0]
  }
}
```

### –ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
```json
{
  "sales": {
    "today": 116,
    "revenue": {
      "daily": 121662,
      "weekly": 851634,
      "monthly": 3649860
    },
    "profit": {
      "daily": 103413,
      "weekly": 723891,
      "monthly": 3102390
    }
  },
  "chart_data": {
    "revenue": [142437, 119212, 87014, 145771, 117655],
    "orders": [115, 121, 125, 116, 120]
  }
}
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API –∫–ª—é—á MPSTATS:
```
68431d2ac72ea4.96910328a56006b24a55daf65db03835d5fe5b4d
```

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
1. `https://mpstats.io/api/wb/get/item/{article}/sales?d1={date_from}&d2={date_to}`
2. `https://mpstats.io/api/wb/get/items/by/id?id={article}`

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
- –ë–µ—Ä–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π –¥–∞–Ω–Ω—ã—Ö
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ä–µ–¥–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ–º `final_price` –∏–ª–∏ `price` –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≤—ã—Ä—É—á–∫–∏
- –ü—Ä–∏–±—ã–ª—å = –≤—ã—Ä—É—á–∫–∞ √ó 0.85 (—É—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é WB ~15%)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —Ç–æ–≤–∞—Ä–µ —Å –∞—Ä—Ç–∏–∫—É–ª–æ–º `275191790`:
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ MPSTATS API
- ‚úÖ –†–∞—Å—á–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –≤—ã—Ä—É—á–∫–∏ –∏ –ø—Ä–∏–±—ã–ª–∏
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

## –°—Ç–∞—Ç—É—Å
üü¢ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MPSTATS API —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –í–µ–±-–¥–∞—à–±–æ—Ä–¥ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö, –≤—ã—Ä—É—á–∫–µ –∏ –ø—Ä–∏–±—ã–ª–∏, –∫–∞–∫ –≤ Telegram –±–æ—Ç–µ.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥—Ä—É–≥–∏—Ö —Ç–æ–≤–∞—Ä–∞—Ö
2. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –¥–ª—è —Å–ª—É—á–∞–µ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ MPSTATS API
3. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
